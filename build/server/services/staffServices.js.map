{"version":3,"sources":["../../../api/server/services/staffServices.js"],"names":["op","sequelize","Op","staffService","database","Staff","findAll","searchParam","where","or","staffId","like","staffNames","staffTitle","staff","newStaff","create","id","findOne","StaffToUpdate","update","staffToDelete","destroy","staffid"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA,IAAMA,EAAE,GAAGC,sBAAUC,EAArB;;IACMC,Y;;;;;;;;;;;;;;;;;;;uBAGmBC,mBAASC,KAAT,CAAeC,OAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qDAMIC,W;;;;;;;;uBAEGH,mBAASC,KAAT,CAAeC,OAAf,CAAuB;AACvCE,kBAAAA,KAAK,uCACAR,EAAE,CAACS,EADH,EACQ,CACL;AAAEC,oBAAAA,OAAO,uCAAKV,EAAE,CAACW,IAAR,EAAe,MAAMJ,WAAN,GAAoB,GAAnC;AAAT,mBADK,EAEL;AAAEK,oBAAAA,UAAU,uCAAKZ,EAAE,CAACW,IAAR,EAAe,MAAMJ,WAAN,GAAoB,GAAnC;AAAZ,mBAFK,EAGL;AAAEM,oBAAAA,UAAU,uCAAKb,EAAE,CAACW,IAAR,EAAe,MAAMJ,WAAN,GAAoB,GAAnC;AAAZ,mBAHK,CADR;AADkC,iBAAvB,C;;;AAAdO,gBAAAA,K;;qBAUFA,K;;;;;kDACOA,K;;;kDAEJ,I;;;;;;;;;;;;;;;;;;;;;;;;;;qDAKOC,Q;;;;;;;uBAEDX,mBAASC,KAAT,CAAeW,MAAf,CAAsBD,QAAtB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qDAKIE,E,EAAIF,Q;;;;;;;;uBAEOX,mBAASC,KAAT,CAAea,OAAf,CAAuB;AAAEV,kBAAAA,KAAK,EAAE;AAAEE,oBAAAA,OAAO,EAAEO;AAAX;AAAT,iBAAvB,C;;;AAAtBE,gBAAAA,a;;qBACFA,a;;;;;;uBACMf,mBAASC,KAAT,CAAee,MAAf,CAAsBL,QAAtB,EAAgC;AAAEP,kBAAAA,KAAK,EAAE;AAAEE,oBAAAA,OAAO,EAAEO;AAAX;AAAT,iBAAhC,C;;;kDACCF,Q;;;kDAEJ,I;;;;;;;;;;;;;;;;;;;;;;;;;;qDAKUE,E;;;;;;;;uBAEWb,mBAASC,KAAT,CAAea,OAAf,CAAuB;AAAEV,kBAAAA,KAAK,EAAE;AAAEE,oBAAAA,OAAO,EAAEO;AAAX;AAAT,iBAAvB,C;;;AAAtBI,gBAAAA,a;;qBACFA,a;;;;;;uBACajB,mBAASC,KAAT,CAAeiB,OAAf,CAAuB;AAAEd,kBAAAA,KAAK,EAAE;AAAEe,oBAAAA,OAAO,EAACN;AAAV;AAAT,iBAAvB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAOdd,Y","sourcesContent":["import database from '../../models';\nimport sequelize from 'sequelize';\nconst op = sequelize.Op;\nclass staffService {\n    static async GetAllStaff() {\n        try {\n            return await database.Staff.findAll();\n        } catch (error) {\n            throw error;\n        }\n    }\n\n    static async SearchStaff(searchParam) {\n        try {\n            const staff = await database.Staff.findAll({\n                where: {\n                    [op.or]: [\n                        { staffId: { [op.like]: '%' + searchParam + '%' } },\n                        { staffNames: { [op.like]: '%' + searchParam + '%' } },\n                        { staffTitle: { [op.like]: '%' + searchParam + '%' } },\n                        \n                    ]\n                }\n            });\n            if (staff) {\n                return staff;\n            }\n            return null;\n        } catch (error) {\n            throw error;\n        }\n    }\n    static async AddStaff(newStaff) {\n        try {\n            return await database.Staff.create(newStaff);\n        } catch (error) {\n            throw error;\n        }\n    }\n    static async UpdateStaff(id, newStaff) {\n        try {\n            const StaffToUpdate = await database.Staff.findOne({ where: { staffId: id } });\n            if (StaffToUpdate) {\n                await database.Staff.update(newStaff, { where: { staffId: id } });\n                return newStaff;\n            }\n            return null;\n        } catch (error) {\n            throw error;\n        }\n    }\n    static async DeleteStaff(id) {\n        try {\n            const staffToDelete = await database.Staff.findOne({ where: { staffId: id } });\n            if (staffToDelete) {\n                return await database.Staff.destroy({ where: { staffid:id } });\n            }\n        } catch (error) {\n            throw error;\n        }\n    }\n}\nexport default staffService;"],"file":"staffServices.js"}