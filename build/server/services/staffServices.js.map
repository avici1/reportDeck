{"version":3,"sources":["../../../api/server/services/staffServices.js"],"names":["op","sequelize","Op","staffService","database","Staff","findAll","attributes","searchParam","where","or","staffId","like","staffNames","staffTitle","staff","teacher","newStaff","create","id","findOne","StaffToUpdate","update","staffToDelete","destroy","staffid"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA,IAAMA,EAAE,GAAGC,sBAAUC,EAArB;;IACMC,Y;;;;;;;;;;;;;;;;;;;uBAGmBC,mBAASC,KAAT,CAAeC,OAAf,CAAuB;AAChCC,kBAAAA,UAAU,EAAG,CAAC,SAAD,EAAW,YAAX;AADmB,iBAAvB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qDAQIC,W;;;;;;;;uBAEGJ,mBAASC,KAAT,CAAeC,OAAf,CAAuB;AACvCG,kBAAAA,KAAK,uCACAT,EAAE,CAACU,EADH,EACQ,CACL;AAAEC,oBAAAA,OAAO,uCAAKX,EAAE,CAACY,IAAR,EAAe,MAAMJ,WAAN,GAAoB,GAAnC;AAAT,mBADK,EAEL;AAAEK,oBAAAA,UAAU,uCAAKb,EAAE,CAACY,IAAR,EAAe,MAAMJ,WAAN,GAAoB,GAAnC;AAAZ,mBAFK,EAGL;AAAEM,oBAAAA,UAAU,uCAAKd,EAAE,CAACY,IAAR,EAAe,MAAMJ,WAAN,GAAoB,GAAnC;AAAZ,mBAHK,CADR;AADkC,iBAAvB,C;;;AAAdO,gBAAAA,K;;qBAUFA,K;;;;;kDACOA,K;;;kDAEJ,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uBAOWX,mBAASC,KAAT,CAAeC,OAAf,CAAuB;AACxCC,kBAAAA,UAAU,EAAG,CAAC,SAAD,EAAW,YAAX,CAD2B;AAExCE,kBAAAA,KAAK,EAAE;AACHK,oBAAAA,UAAU,EAAE;AADT;AAFiC,iBAAvB,C;;;AAAfE,gBAAAA,O;;qBAMHA,O;;;;;kDACQA,O;;;kDAEJ,I;;;;;;;;;;;;;;;;;;;;;;;;;;qDAKUC,Q;;;;;;;uBAEDb,mBAASC,KAAT,CAAea,MAAf,CAAsBD,QAAtB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qDAKIE,E,EAAIF,Q;;;;;;;;uBAEOb,mBAASC,KAAT,CAAee,OAAf,CAAuB;AAAEX,kBAAAA,KAAK,EAAE;AAAEE,oBAAAA,OAAO,EAAEQ;AAAX;AAAT,iBAAvB,C;;;AAAtBE,gBAAAA,a;;qBACFA,a;;;;;;uBACMjB,mBAASC,KAAT,CAAeiB,MAAf,CAAsBL,QAAtB,EAAgC;AAAER,kBAAAA,KAAK,EAAE;AAAEE,oBAAAA,OAAO,EAAEQ;AAAX;AAAT,iBAAhC,C;;;kDACCF,Q;;;kDAEJ,I;;;;;;;;;;;;;;;;;;;;;;;;;;qDAKUE,E;;;;;;;;uBAEWf,mBAASC,KAAT,CAAee,OAAf,CAAuB;AAAEX,kBAAAA,KAAK,EAAE;AAAEE,oBAAAA,OAAO,EAAEQ;AAAX;AAAT,iBAAvB,C;;;AAAtBI,gBAAAA,a;;qBACFA,a;;;;;;uBACanB,mBAASC,KAAT,CAAemB,OAAf,CAAuB;AAAEf,kBAAAA,KAAK,EAAE;AAAEgB,oBAAAA,OAAO,EAACN;AAAV;AAAT,iBAAvB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAOdhB,Y","sourcesContent":["import database from '../../models';\nimport sequelize from 'sequelize';\nconst op = sequelize.Op;\nclass staffService {\n    static async GetAllStaff() {\n        try {\n            return await database.Staff.findAll({\n                attributes : ['staffId','staffNames']\n            });\n        } catch (error) {\n            throw error;\n        }\n    }\n\n    static async SearchStaff(searchParam) {\n        try {\n            const staff = await database.Staff.findAll({\n                where: {\n                    [op.or]: [\n                        { staffId: { [op.like]: '%' + searchParam + '%' } },\n                        { staffNames: { [op.like]: '%' + searchParam + '%' } },\n                        { staffTitle: { [op.like]: '%' + searchParam + '%' } },\n                        \n                    ]\n                }\n            });\n            if (staff) {\n                return staff;\n            }\n            return null;\n        } catch (error) {\n            throw error;\n        }\n    }\n    static async searchTeacher() {\n     try {\n         const teacher =await database.Staff.findAll({\n             attributes : ['staffId','staffNames'],\n             where: {\n                 staffTitle: 'Teacher'\n             }\n         });\n         if(teacher){\n             return teacher;\n         }\n         return null;\n     } catch (error) {\n         throw error;\n     }\n    }\n    static async AddStaff(newStaff) {\n        try {\n            return await database.Staff.create(newStaff);\n        } catch (error) {\n            throw error;\n        }\n    }\n    static async UpdateStaff(id, newStaff) {\n        try {\n            const StaffToUpdate = await database.Staff.findOne({ where: { staffId: id } });\n            if (StaffToUpdate) {\n                await database.Staff.update(newStaff, { where: { staffId: id } });\n                return newStaff;\n            }\n            return null;\n        } catch (error) {\n            throw error;\n        }\n    }\n    static async DeleteStaff(id) {\n        try {\n            const staffToDelete = await database.Staff.findOne({ where: { staffId: id } });\n            if (staffToDelete) {\n                return await database.Staff.destroy({ where: { staffid:id } });\n            }\n        } catch (error) {\n            throw error;\n        }\n    }\n}\nexport default staffService;"],"file":"staffServices.js"}