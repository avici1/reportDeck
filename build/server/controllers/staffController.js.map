{"version":3,"sources":["../../../api/server/controllers/staffController.js"],"names":["util","Util","staffController","req","res","staffService","GetAllStaff","staffList","length","setSuccess","send","setError","message","newStaff","body","staffId","staffNames","staffTitle","AddStaff","addedStaff","id","params","SearchStaff","staff","Object","values","updated","staffToUpdate","UpdateStaff","DeleteStaff","deletedStaff"],"mappings":"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","sourcesContent":["import Util from '../utils/Util';\nimport staffService from '../services/staffServices';\nimport { PDFInvalidObjectParsingError } from 'pdf-lib';\nconst util = new Util();\n\n\nclass staffController {\n\n    static async getListStaff(req, res) {\n        try {\n            const staffList = await staffService.GetAllStaff()\n            if (staffList.length > 0) {\n                util.setSuccess(\"Staff found successfully\", 200, staffList);\n                return util.send(res);\n            } else {\n                util.setSuccess(\"Staff Not found\", 200, staffList);\n                return util.send(res);\n            }\n        } catch (error) {\n            util.setError(400, error.message)\n            return util.send(res);\n        }\n    }\n    static async AddNewStaff(req, res) {\n        try {\n            const newStaff = req.body;\n            if (!req.body.staffId || !req.body.staffNames || !req.body.staffTitle) {\n                util.setError(400, \"Please send complete information\");\n                return util.send(res);\n            } else {\n                const addedStaff = await staffService.AddStaff(newStaff);\n                util.setSuccess(\"Staff added succefully\", 200, addedStaff);\n                return util.send(res);\n            }\n        } catch (error) {\n            util.setError(400, error.message);\n            return util.send(res);\n        }\n    }\n    static async searchStaff(req, res) {\n        const { id } = req.params;\n        try {\n\n            if (!id) {\n                util.setError(400, `Please provide accurate search information Q is ${id}`);\n                return util.send(res);\n            } else {\n                const staff = await staffService.SearchStaff(id);\n                if ((Object.values(staff).length >= 1) == false) {\n                    util.setError(400, \"Can't find that staff\");\n                    return util.send(res);\n                } else {\n                    util.setSuccess(\"Staff found successfully\", 200, staff);\n                    return util.send(res);\n                }\n            }\n        } catch (error) {\n            util.setError(400, error.message);\n            return util.send(res);\n        }\n    }\n    static async updateStaff(req, res) {\n        try {\n            const { id } = req.params;\n            const updated = req.body;\n            if (!id) {\n                util.setError(400, \"Wrong search parameter\");\n                return util.send(res);\n            } else {\n                if ((Object.values(updated).length >= 1) == false) {\n                    util.setError(400, \"You sent empty body\");\n                    return util.send(res);\n                } else {\n                    const staffToUpdate = await staffService.SearchStaff(id);\n                    if (!staffToUpdate) {\n                        util.setError(400, \"Can't find what you're trying to update\");\n                        return util.send(res);\n                    } else {\n                        const staff = await staffService.UpdateStaff(id, updated);\n                        util.setSuccess(\"Staff updated successfully\", 200, staff);\n                        return util.send(res);\n                    }\n\n                }\n            }\n\n        } catch (error) {\n            util.setError(400, error.message);\n            return util.send(res);\n        }\n    }\n    static async deleteStaff(req, res) {\n        const { id } = req.params;\n        if (!id) {\n            util.setError(404, 'Please provide a valid parameter');\n            return util.send(res);\n        } else {\n            try {\n                const deletedStaff = await staffService.DeleteStaff(id);\n                if (!deletedStaff) {\n                    util.setError(404, `Staff with Id ${id} not found`);\n                    return util.send(res);\n                } else {\n                    util.setSuccess(`Staff with Id ${id} deleted successfully`, 200, deletedStaff);\n                    return util.send(res);\n                }\n\n            } catch (error) {\n                util.setError(404, `can't delete the class`);\n                return util.send(res);\n            }\n\n\n\n        }\n    }\n}\nexport default staffController;"],"file":"staffController.js"}